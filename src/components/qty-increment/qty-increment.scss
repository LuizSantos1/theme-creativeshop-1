@import 'config/variables';
@import 'include-media/dist/include-media';
@import 'components/field/mixin';
@import 'components/button/mixin';

$qty-increment_input-font-size: inherit !default;
$qty-increment_input-text-align: center !default;
$qty-increment_input--error-border-color: $color_error-500 !default;

$qty-increment_button-position-offset: 1px !default;
$qty-increment_button-width: 3rem !default;
$qty-increment_button-background: transparent !default;
$qty-increment_button--hover-background: $qty-increment_button-background !default;
$qty-increment_button--disabled-background: $qty-increment_button-background !default;

$qty-increment_icon-fill: $color_cerulean-blue !default;
$qty-increment_icon--hover-fill: $color_torea-bay !default;
$qty-increment_icon--disabled-fill: $color_alto !default;
$qty-increment_icon--decrement-width: 1.2rem !default;
$qty-increment_icon--decrement-height: 0.3rem !default;
$qty-increment_icon--increment-width: $qty-increment_icon--decrement-width !default;
$qty-increment_icon--increment-height: $qty-increment_icon--increment-width !default;

.#{$ns}qty-increment {
    $root: &;

    position: relative;
    display: flex;
    flex-wrap: wrap;

    &__input {
        @include field-input();
        padding-left: $qty-increment_button-width;
        padding-right: $qty-increment_button-width;
        font-size: $qty-increment_input-font-size;
        text-align: $qty-increment_input-text-align;
        margin: 0;
        padding-left: 0.5em;
        padding-right: 0.5em;
        border-radius: 0;
        width: 0;
        min-width: 0;
        flex: 1;
        order: 2;

        &,
        &:hover:not([disabled]),
        &:focus:not([disabled]) {
            border-left: 0;
            border-right: 0;
        }

        &.mage-error {
            border-color: $qty-increment_input--error-border-color !important;

            ~ #{$root}__button {
                border-color: $qty-increment_input--error-border-color !important;
            }
        }

        + .mage-error {
            order: 3;
            width: 100%;
        }
    }

    &__button {
        @include button($type: 'secondary', $icon_pos: 'only-icon');

        max-width: $qty-increment_button-width;
        background-color: $qty-increment_button-background;
        flex: 0 1 #{$qty-increment_button-width};
        position: relative;

        &--decrement {
            order: 1;
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
        }

        &--increment {
            order: 2;
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }
    }

    &__icon {
        @include button_icon($type: 'secondary', $icon_pos: 'only-icon');
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        fill: inherit;

        &--decrement {
            width: $qty-increment_icon--decrement-width;
            height: $qty-increment_icon--decrement-height;
        }

        &--increment {
            width: $qty-increment_icon--increment-width;
            height: $qty-increment_icon--increment-height;
        }
    }
}
